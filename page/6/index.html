<!DOCTYPE html>
<html lang="zh-CN" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
<head>
		<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	<link rel="pingback" href="/xmlrpc.php" />
	<title>Sanmao的幸福(?)生活 - Page 6</title>

<!-- SEO Ultimate (http://www.seodesignsolutions.com/wordpress-seo/) -->
	<link rel="author" href="https://plus.google.com/110741484037100884472/posts" />
	<meta property="og:type" content="blog" />
	<meta property="og:title" content="Sanmao的幸福(?)生活" />
	<meta property="og:description" content="Domino/Notes技术、Ubuntu、TV Game" />
	<meta property="og:url" content="http://blog.sanmaozhao.com/" />
	<meta property="og:site_name" content="Sanmao的幸福(?)生活" />
	<meta name="twitter:card" content="summary" />
<!-- /SEO Ultimate -->

<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Sanmao的幸福(?)生活 &raquo; Feed" href="/feed" />
<link rel="alternate" type="application/rss+xml" title="Sanmao的幸福(?)生活 &raquo; 评论Feed" href="/comments/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.2.2"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css' href='/wp-includes/css/dist/block-library/style.min.css?ver=5.2.2' media='all' />
<link rel='stylesheet' id='parent-style-css' href='/wp-content/themes/flat/style.css?ver=5.2.2' media='all' />
<link rel='stylesheet' id='flat-style-css' href='/wp-content/themes/flat-my/style.css?ver=5.2.2' media='all' />
<link rel='stylesheet' id='flat_sky-child-style-css' href='/wp-content/themes/flat-my/style.css?ver=5.2.2' media='all' />
<link rel='stylesheet' id='flat-fonts-css' href='//fonts.googleapis.com/css?family=Amatic+SC%7CRoboto:400,700%7CRoboto+Slab%7CRoboto+Condensed' media='all' />
<link rel='stylesheet' id='flat-theme-css' href='/wp-content/themes/flat/assets/css/flat.min.css?ver=1.7.11' media='all' />
<script src='/wp-includes/js/jquery/jquery.js?ver=1.12.4-wp'></script>
<script src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script src='/wp-content/themes/flat/assets/js/flat.min.js?ver=1.7.11'></script>
<!--[if lt IE 9]>
<script src='http://blog.sanmaozhao.com/wp-content/themes/flat/assets/js/html5shiv.min.js?ver=3.7.2'></script>
<![endif]-->
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.2.2" />
<style data-context="foundation-flickity-css">/*! Flickity v2.0.2
http://flickity.metafizzy.co
---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09f}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}</style><style data-context="foundation-slideout-css">.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:auto;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-menu.pushit-right{left:auto;right:0}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}.pushit{display:none}</style><style type="text/css"></style><style type="text/css">#masthead .site-title {font-family:Amatic SC}body {font-family:Roboto }h1,h2,h3,h4,h5,h6 {font-family:Roboto Slab}#masthead .site-description, .hentry .entry-meta {font-family:Roboto Condensed}</style><style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("/wp-content/themes/flat-my/assets/img/default-background.jpg"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: scroll; }
</style>
	
	<!-- Clean Archives Reloaded v3.2.0 | http://www.viper007bond.com/wordpress-plugins/clean-archives-reloaded/ -->
	<style type="text/css">.car-collapse .car-yearmonth { cursor: s-resize; } </style>
	<script type="text/javascript">
		/* <![CDATA[ */
			jQuery(document).ready(function() {
				jQuery('.car-collapse').find('.car-monthlisting').hide();
				jQuery('.car-collapse').find('.car-monthlisting:first').show();
				jQuery('.car-collapse').find('.car-yearmonth').click(function() {
					jQuery(this).next('ul').slideToggle('fast');
				});
				jQuery('.car-collapse').find('.car-toggler').click(function() {
					if ( '展开所有月份' == jQuery(this).text() ) {
						jQuery(this).parent('.car-container').find('.car-monthlisting').show();
						jQuery(this).text('折叠所有月份');
					}
					else {
						jQuery(this).parent('.car-container').find('.car-monthlisting').hide();
						jQuery(this).text('展开所有月份');
					}
					return false;
				});
			});
		/* ]]> */
	</script>

<style>.ios7.web-app-mode.has-fixed header{ background-color: rgba(45,53,63,.88);}</style>	</head>

<body class="home blog paged custom-background paged-6" itemscope itemtype="http://schema.org/WebPage">
<div id="page">
	<div class="container">
		<div class="row row-offcanvas row-offcanvas-left">
			<div id="secondary" class="col-lg-3">
								<header id="masthead" class="site-header" role="banner">
										<div class="hgroup">
						<h1 class="site-title display-title"><a href="/" title="Sanmao的幸福(?)生活" rel="home"><span itemprop="name">Sanmao的幸福(?)生活</span></a></h1><h2 itemprop="description" class="site-description">Domino/Notes技术、Ubuntu、TV Game</h2>					</div>
					<button type="button" class="btn btn-link hidden-lg toggle-sidebar" data-toggle="offcanvas" aria-label="Sidebar"><i class="fa fa-gear"></i></button>
					<button type="button" class="btn btn-link hidden-lg toggle-navigation" aria-label="Navigation Menu"><i class="fa fa-bars"></i></button>
					<nav id="site-navigation" class="navigation main-navigation" role="navigation">
						<div class="nav-menu"><ul>
<li class="page_item page-item-424593 current_page_parent"><a href="/article_list">文章列表</a></li>
</ul></div>
					</nav>
									</header>
				
				<div class="sidebar-offcanvas">
					<div id="main-sidebar" class="widget-area" role="complementary">
											<aside id="search-3" class="widget widget_search">
	<form method="get" id="searchform" action="https://www.bing.com/search">
		<label for="s" class="assistive-text">搜索</label>
		<input type="text" class="field" name="q" id="s" placeholder="搜索" />
		<input type="hidden" class="field" name="q1" id="s" value="site:blog.sanmaozhao.com" />
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="搜索" />
	</form>
					</aside>
					<aside id="text-4" class="widget widget_text">
						<h3 class='widget-title'>尊重原创：关于转载</h3>
			<div class="textwidget">我希望在中文环境中建立一种健康的 TrackBack 和链接机制，保证原创，并不影响传播。因此欢迎您在网站上推荐我的文章，包括文字和图片片段，但不赞成任何形式的全文转载。若需全文转载，请您征得我的同意，并添加本站原文链接，标明所有的引用、参考信息和图片版权来源。</div><h4 class="widget-title">联系我：sanmaozhao at gmail.com</h4>
							</aside>
					<aside id="categories-4" class="widget widget_categories">
						<h3 class='widget-title'>分类目录</h3>
		<ul>
				<li class="cat-item cat-item-3"><a href="/articles/category/dojo">Dojo</a> (3)
</li>
	<li class="cat-item cat-item-84"><a href="/articles/category/dominonotes">Domino/Notes</a> (149)
<ul class='children'>
	<li class="cat-item cat-item-109"><a href="/articles/category/dominonotes/xpages">XPages</a> (7)
</li>
</ul>
</li>
	<li class="cat-item cat-item-5"><a href="/articles/category/tv-game">TV Game</a> (10)
</li>
	<li class="cat-item cat-item-85"><a href="/articles/category/ubuntulinux" title="Ubuntu/Linux">Ubuntu/Linux</a> (6)
</li>
	<li class="cat-item cat-item-86"><a href="/articles/category/web">Web技术</a> (14)
</li>
	<li class="cat-item cat-item-87"><a href="/articles/category/%e5%85%b6%e4%bb%96">其他</a> (9)
</li>
	<li class="cat-item cat-item-1"><a href="/articles/category/%e6%9c%aa%e5%88%86%e7%b1%bb">未分类</a> (1)
</li>
		</ul>
								</aside>
					<aside id="archives-4" class="widget widget_archive">
						<h3 class='widget-title'>文章归档</h3>
		<label class="screen-reader-text" for="archives-dropdown-4">文章归档</label>
		<select id="archives-dropdown-4" name="archive-dropdown">
			
			<option value="">选择月份</option>
				<option value='/articles/2016/12'> 2016年十二月 &nbsp;(1)</option>
	<option value='/articles/2016/11'> 2016年十一月 &nbsp;(1)</option>
	<option value='/articles/2015/06'> 2015年六月 &nbsp;(1)</option>
	<option value='/articles/2015/01'> 2015年一月 &nbsp;(1)</option>
	<option value='/articles/2014/12'> 2014年十二月 &nbsp;(1)</option>
	<option value='/articles/2014/09'> 2014年九月 &nbsp;(1)</option>
	<option value='/articles/2014/07'> 2014年七月 &nbsp;(1)</option>
	<option value='/articles/2013/11'> 2013年十一月 &nbsp;(1)</option>
	<option value='/articles/2013/10'> 2013年十月 &nbsp;(1)</option>
	<option value='/articles/2013/05'> 2013年五月 &nbsp;(2)</option>
	<option value='/articles/2013/04'> 2013年四月 &nbsp;(2)</option>
	<option value='/articles/2013/03'> 2013年三月 &nbsp;(1)</option>
	<option value='/articles/2012/10'> 2012年十月 &nbsp;(2)</option>
	<option value='/articles/2012/08'> 2012年八月 &nbsp;(1)</option>
	<option value='/articles/2012/07'> 2012年七月 &nbsp;(2)</option>
	<option value='/articles/2012/06'> 2012年六月 &nbsp;(3)</option>
	<option value='/articles/2012/04'> 2012年四月 &nbsp;(1)</option>
	<option value='/articles/2012/03'> 2012年三月 &nbsp;(1)</option>
	<option value='/articles/2012/02'> 2012年二月 &nbsp;(1)</option>
	<option value='/articles/2011/12'> 2011年十二月 &nbsp;(1)</option>
	<option value='/articles/2011/11'> 2011年十一月 &nbsp;(2)</option>
	<option value='/articles/2011/10'> 2011年十月 &nbsp;(1)</option>
	<option value='/articles/2011/08'> 2011年八月 &nbsp;(2)</option>
	<option value='/articles/2011/07'> 2011年七月 &nbsp;(3)</option>
	<option value='/articles/2011/05'> 2011年五月 &nbsp;(2)</option>
	<option value='/articles/2011/04'> 2011年四月 &nbsp;(1)</option>
	<option value='/articles/2011/03'> 2011年三月 &nbsp;(3)</option>
	<option value='/articles/2010/12'> 2010年十二月 &nbsp;(4)</option>
	<option value='/articles/2010/09'> 2010年九月 &nbsp;(2)</option>
	<option value='/articles/2010/08'> 2010年八月 &nbsp;(2)</option>
	<option value='/articles/2010/07'> 2010年七月 &nbsp;(3)</option>
	<option value='/articles/2010/06'> 2010年六月 &nbsp;(1)</option>
	<option value='/articles/2010/05'> 2010年五月 &nbsp;(5)</option>
	<option value='/articles/2010/03'> 2010年三月 &nbsp;(7)</option>
	<option value='/articles/2010/02'> 2010年二月 &nbsp;(2)</option>
	<option value='/articles/2009/12'> 2009年十二月 &nbsp;(1)</option>
	<option value='/articles/2009/10'> 2009年十月 &nbsp;(2)</option>
	<option value='/articles/2009/09'> 2009年九月 &nbsp;(1)</option>
	<option value='/articles/2009/07'> 2009年七月 &nbsp;(2)</option>
	<option value='/articles/2009/06'> 2009年六月 &nbsp;(1)</option>
	<option value='/articles/2009/04'> 2009年四月 &nbsp;(5)</option>
	<option value='/articles/2009/03'> 2009年三月 &nbsp;(2)</option>
	<option value='/articles/2009/01'> 2009年一月 &nbsp;(3)</option>
	<option value='/articles/2008/10'> 2008年十月 &nbsp;(2)</option>
	<option value='/articles/2008/08'> 2008年八月 &nbsp;(3)</option>
	<option value='/articles/2008/07'> 2008年七月 &nbsp;(1)</option>
	<option value='/articles/2008/06'> 2008年六月 &nbsp;(1)</option>
	<option value='/articles/2008/05'> 2008年五月 &nbsp;(3)</option>
	<option value='/articles/2008/03'> 2008年三月 &nbsp;(2)</option>
	<option value='/articles/2008/02'> 2008年二月 &nbsp;(2)</option>
	<option value='/articles/2008/01'> 2008年一月 &nbsp;(5)</option>
	<option value='/articles/2007/12'> 2007年十二月 &nbsp;(1)</option>
	<option value='/articles/2007/11'> 2007年十一月 &nbsp;(2)</option>
	<option value='/articles/2007/10'> 2007年十月 &nbsp;(3)</option>
	<option value='/articles/2007/09'> 2007年九月 &nbsp;(8)</option>
	<option value='/articles/2007/08'> 2007年八月 &nbsp;(1)</option>
	<option value='/articles/2007/07'> 2007年七月 &nbsp;(14)</option>
	<option value='/articles/2007/06'> 2007年六月 &nbsp;(3)</option>
	<option value='/articles/2007/05'> 2007年五月 &nbsp;(2)</option>
	<option value='/articles/2007/04'> 2007年四月 &nbsp;(2)</option>
	<option value='/articles/2007/03'> 2007年三月 &nbsp;(2)</option>
	<option value='/articles/2007/01'> 2007年一月 &nbsp;(1)</option>
	<option value='/articles/2006/10'> 2006年十月 &nbsp;(3)</option>
	<option value='/articles/2006/09'> 2006年九月 &nbsp;(1)</option>
	<option value='/articles/2006/08'> 2006年八月 &nbsp;(3)</option>
	<option value='/articles/2006/07'> 2006年七月 &nbsp;(3)</option>
	<option value='/articles/2006/06'> 2006年六月 &nbsp;(4)</option>
	<option value='/articles/2006/05'> 2006年五月 &nbsp;(1)</option>
	<option value='/articles/2006/04'> 2006年四月 &nbsp;(7)</option>
	<option value='/articles/2006/01'> 2006年一月 &nbsp;(1)</option>
	<option value='/articles/2005/12'> 2005年十二月 &nbsp;(4)</option>
	<option value='/articles/2005/11'> 2005年十一月 &nbsp;(3)</option>
	<option value='/articles/2005/09'> 2005年九月 &nbsp;(2)</option>
	<option value='/articles/2005/08'> 2005年八月 &nbsp;(2)</option>
	<option value='/articles/2005/07'> 2005年七月 &nbsp;(10)</option>

		</select>

<script type='text/javascript'>
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "archives-dropdown-4" );
	function onSelectChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value !== '' ) {
			document.location.href = this.options[ this.selectedIndex ].value;
		}
	}
	dropdown.onchange = onSelectChange;
})();
/* ]]> */
</script>

							</aside>
					<aside id="tag_cloud-4" class="widget widget_tag_cloud">
						<h3 class='widget-title'>标签</h3>
<div class="tagcloud"><a href="/articles/tag/agent" class="tag-cloud-link tag-link-88 tag-link-position-1" style="font-size: 10.377358490566pt;" aria-label="agent (2个项目)">agent</a>
<a href="/articles/tag/alloy" class="tag-cloud-link tag-link-10 tag-link-position-2" style="font-size: 8pt;" aria-label="alloy (1个项目)">alloy</a>
<a href="/articles/tag/base64" class="tag-cloud-link tag-link-60 tag-link-position-3" style="font-size: 10.377358490566pt;" aria-label="base64 (2个项目)">base64</a>
<a href="/articles/tag/bug" class="tag-cloud-link tag-link-11 tag-link-position-4" style="font-size: 11.962264150943pt;" aria-label="bug (3个项目)">bug</a>
<a href="/articles/tag/build" class="tag-cloud-link tag-link-12 tag-link-position-5" style="font-size: 8pt;" aria-label="build (1个项目)">build</a>
<a href="/articles/tag/capi" class="tag-cloud-link tag-link-13 tag-link-position-6" style="font-size: 11.962264150943pt;" aria-label="capi (3个项目)">capi</a>
<a href="/articles/tag/charset" class="tag-cloud-link tag-link-61 tag-link-position-7" style="font-size: 10.377358490566pt;" aria-label="charset (2个项目)">charset</a>
<a href="/articles/tag/column" class="tag-cloud-link tag-link-14 tag-link-position-8" style="font-size: 8pt;" aria-label="column (1个项目)">column</a>
<a href="/articles/tag/conflict" class="tag-cloud-link tag-link-89 tag-link-position-9" style="font-size: 10.377358490566pt;" aria-label="conflict (2个项目)">conflict</a>
<a href="/articles/tag/css" class="tag-cloud-link tag-link-65 tag-link-position-10" style="font-size: 10.377358490566pt;" aria-label="css (2个项目)">css</a>
<a href="/articles/tag/custom" class="tag-cloud-link tag-link-15 tag-link-position-11" style="font-size: 8pt;" aria-label="custom (1个项目)">custom</a>
<a href="/articles/tag/dblookup" class="tag-cloud-link tag-link-16 tag-link-position-12" style="font-size: 10.377358490566pt;" aria-label="dblookup (2个项目)">dblookup</a>
<a href="/articles/tag/dct" class="tag-cloud-link tag-link-17 tag-link-position-13" style="font-size: 8pt;" aria-label="dct (1个项目)">dct</a>
<a href="/articles/tag/delay" class="tag-cloud-link tag-link-18 tag-link-position-14" style="font-size: 8pt;" aria-label="delay (1个项目)">delay</a>
<a href="/articles/tag/dijit" class="tag-cloud-link tag-link-19 tag-link-position-15" style="font-size: 8pt;" aria-label="dijit (1个项目)">dijit</a>
<a href="/articles/tag/dojo" class="tag-cloud-link tag-link-115 tag-link-position-16" style="font-size: 10.377358490566pt;" aria-label="Dojo (2个项目)">Dojo</a>
<a href="/articles/tag/domino" class="tag-cloud-link tag-link-20 tag-link-position-17" style="font-size: 14.339622641509pt;" aria-label="domino (5个项目)">domino</a>
<a href="/articles/tag/domino-server-setup" class="tag-cloud-link tag-link-21 tag-link-position-18" style="font-size: 8pt;" aria-label="domino server setup (1个项目)">domino server setup</a>
<a href="/articles/tag/formula" class="tag-cloud-link tag-link-25 tag-link-position-19" style="font-size: 16.584905660377pt;" aria-label="formula (8个项目)">formula</a>
<a href="/articles/tag/ftsearch" class="tag-cloud-link tag-link-27 tag-link-position-20" style="font-size: 11.962264150943pt;" aria-label="ftsearch (3个项目)">ftsearch</a>
<a href="/articles/tag/guitar-hero" class="tag-cloud-link tag-link-74 tag-link-position-21" style="font-size: 14.339622641509pt;" aria-label="guitar hero (5个项目)">guitar hero</a>
<a href="/articles/tag/java" class="tag-cloud-link tag-link-96 tag-link-position-22" style="font-size: 10.377358490566pt;" aria-label="java (2个项目)">java</a>
<a href="/articles/tag/javascript" class="tag-cloud-link tag-link-62 tag-link-position-23" style="font-size: 14.339622641509pt;" aria-label="javascript (5个项目)">javascript</a>
<a href="/articles/tag/jsf" class="tag-cloud-link tag-link-110 tag-link-position-24" style="font-size: 8pt;" aria-label="jsf (1个项目)">jsf</a>
<a href="/articles/tag/lotusscript" class="tag-cloud-link tag-link-33 tag-link-position-25" style="font-size: 20.283018867925pt;" aria-label="lotusscript (16个项目)">lotusscript</a>
<a href="/articles/tag/mail" class="tag-cloud-link tag-link-36 tag-link-position-26" style="font-size: 11.962264150943pt;" aria-label="mail (3个项目)">mail</a>
<a href="/articles/tag/nd7" class="tag-cloud-link tag-link-69 tag-link-position-27" style="font-size: 10.377358490566pt;" aria-label="nd7 (2个项目)">nd7</a>
<a href="/articles/tag/nd9" class="tag-cloud-link tag-link-112 tag-link-position-28" style="font-size: 10.377358490566pt;" aria-label="nd9 (2个项目)">nd9</a>
<a href="/articles/tag/nd85" class="tag-cloud-link tag-link-41 tag-link-position-29" style="font-size: 15.264150943396pt;" aria-label="nd85 (6个项目)">nd85</a>
<a href="/articles/tag/nd702" class="tag-cloud-link tag-link-73 tag-link-position-30" style="font-size: 10.377358490566pt;" aria-label="nd702 (2个项目)">nd702</a>
<a href="/articles/tag/nd801" class="tag-cloud-link tag-link-39 tag-link-position-31" style="font-size: 10.377358490566pt;" aria-label="nd801 (2个项目)">nd801</a>
<a href="/articles/tag/nd802" class="tag-cloud-link tag-link-40 tag-link-position-32" style="font-size: 10.377358490566pt;" aria-label="nd802 (2个项目)">nd802</a>
<a href="/articles/tag/nd851" class="tag-cloud-link tag-link-42 tag-link-position-33" style="font-size: 10.377358490566pt;" aria-label="nd851 (2个项目)">nd851</a>
<a href="/articles/tag/nd852" class="tag-cloud-link tag-link-101 tag-link-position-34" style="font-size: 16.584905660377pt;" aria-label="nd852 (8个项目)">nd852</a>
<a href="/articles/tag/nd853" class="tag-cloud-link tag-link-108 tag-link-position-35" style="font-size: 13.283018867925pt;" aria-label="nd853 (4个项目)">nd853</a>
<a href="/articles/tag/notes-ini" class="tag-cloud-link tag-link-44 tag-link-position-36" style="font-size: 22pt;" aria-label="notes.ini (22个项目)">notes.ini</a>
<a href="/articles/tag/nsd" class="tag-cloud-link tag-link-102 tag-link-position-37" style="font-size: 10.377358490566pt;" aria-label="nsd (2个项目)">nsd</a>
<a href="/articles/tag/password" class="tag-cloud-link tag-link-46 tag-link-position-38" style="font-size: 10.377358490566pt;" aria-label="password (2个项目)">password</a>
<a href="/articles/tag/performance" class="tag-cloud-link tag-link-71 tag-link-position-39" style="font-size: 15.264150943396pt;" aria-label="performance (6个项目)">performance</a>
<a href="/articles/tag/release" class="tag-cloud-link tag-link-49 tag-link-position-40" style="font-size: 10.377358490566pt;" aria-label="release (2个项目)">release</a>
<a href="/articles/tag/replica" class="tag-cloud-link tag-link-75 tag-link-position-41" style="font-size: 10.377358490566pt;" aria-label="replica (2个项目)">replica</a>
<a href="/articles/tag/sap" class="tag-cloud-link tag-link-51 tag-link-position-42" style="font-size: 10.377358490566pt;" aria-label="sap (2个项目)">sap</a>
<a href="/articles/tag/search" class="tag-cloud-link tag-link-52 tag-link-position-43" style="font-size: 10.377358490566pt;" aria-label="search (2个项目)">search</a>
<a href="/articles/tag/unid" class="tag-cloud-link tag-link-56 tag-link-position-44" style="font-size: 10.377358490566pt;" aria-label="unid (2个项目)">unid</a>
<a href="/articles/tag/xpage" class="tag-cloud-link tag-link-107 tag-link-position-45" style="font-size: 11.962264150943pt;" aria-label="xpage (3个项目)">xpage</a></div>
					</aside>
					<aside id="linkcat-2" class="widget widget_links">
						<h3 class='widget-title'>链接表</h3>

	<ul class='xoxo blogroll'>
<li><a href="http://www-10.lotus.com/ldd/ddwiki.nsf" title="Lotus Notes and Domino Application Development wiki" target="_blank">LDD wiki</a></li>
<li><a href="http://www-947.ibm.com/support/entry/portal/Overview/Software/Lotus/Lotus_Domino" target="_blank">Lotus Domino Support Portal</a></li>
<li><a href="https://www.ibm.com/developerworks/lotus/community/" target="_blank">Lotus Forums and community</a></li>
<li><a href="http://wanglaoban.org/" rel="friend" target="_blank">王老板</a></li>

	</ul>
					</aside>

											</div>
				</div>
			</div>

						<div id="primary" class="content-area col-lg-9" itemprop="mainContentOfPage">
						<div id="content" class="site-content" role="main">
		
						<article itemscope itemtype="http://schema.org/Article" id="post-644794" class="post-644794 post type-post status-publish format-standard hentry category-dominonotes tag-nd85 tag-notes-ini tag-xpage">
	<header class="entry-header">
		<h2 class="entry-title" itemprop="name">
			<a itemprop="url" href="/articles/there-a-notes-ini-parameter-to-disable-xpages.html" title="链向通过 Notes.ini 参数禁用 xPage 功能的固定链接" rel="bookmark">通过 Notes.ini 参数禁用 xPage 功能</a>
		</h2>
							<div class="entry-meta"><span class="entry-date"><a href="/articles/there-a-notes-ini-parameter-to-disable-xpages.html" rel="bookmark"><time class="entry-date published" datetime="2010-07-01T17:05:23+08:00" itemprop="datepublished">2010年07月1日</time></a></span> by <span class="author vcard" itemscope itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="/articles/author/admin" rel="author" itemprop="url"><span itemprop="name">Sanmao</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="/articles/there-a-notes-ini-parameter-to-disable-xpages.html#comments" itemprop="discussionUrl">3条评论</a></span></div>
			</header>
								<div class="entry-content" itemprop="articleBody">
						<p>Domino 8.5 版引入了新的设计元素：xPage。我承认这是个很强大的东西，但在很多生产服务器我们还没有用到它。而我向来有关闭这种不使用的功能的洁癖，所以通过以下参数可以将其禁用：</p>
<blockquote><p>INOTESDISABLEXPAGECMD=1</p></blockquote>
<p>设置参数后重启 HTTP 服务即可生效。</p>
								</div>
			</article>
					<article itemscope itemtype="http://schema.org/Article" id="post-644788" class="post-644788 post type-post status-publish format-standard hentry category-dominonotes tag-agent tag-notes-ini">
	<header class="entry-header">
		<h2 class="entry-title" itemprop="name">
			<a itemprop="url" href="/articles/enable-agent-thread-debug.html" title="链向记录 Web 代理的执行的固定链接" rel="bookmark">记录 Web 代理的执行</a>
		</h2>
							<div class="entry-meta"><span class="entry-date"><a href="/articles/enable-agent-thread-debug.html" rel="bookmark"><time class="entry-date published" datetime="2010-06-09T09:55:57+08:00" itemprop="datepublished">2010年06月9日</time></a></span> by <span class="author vcard" itemscope itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="/articles/author/admin" rel="author" itemprop="url"><span itemprop="name">Sanmao</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="/articles/enable-agent-thread-debug.html#comments" itemprop="discussionUrl">一条评论</a></span></div>
			</header>
								<div class="entry-content" itemprop="articleBody">
						<p>在开发过程中我们经常使用 msgbox 语句来调试代理，由于种种原因有时这些调试语句会被带入测试/生产环境。这种问题一旦发生，一般来说很难定位它究竟来自哪个代理。</p>
<p>此时我们可以在 notes.ini 中添加</p>
<blockquote><p>Debug_Agent_Thread=1</p></blockquote>
<p>参数来打开 Web 代理调试功能，在代理开始和结束时，控制台会打印出代理的名称、所在数据库以及 thread id。有了这些信息，我们就很容易定位调试语句的来源了。</p>
<p>请参考：<a href="http://www.lntoolbox.com/en/notesini-reference/bycategory/debug/41-debug/2621-debug_agent_thread.html" target="_blank">Lotus Notes.ini Entry &#8211; Debug_Agent_Thread</a></p>
								</div>
			</article>
					<article itemscope itemtype="http://schema.org/Article" id="post-644776" class="post-644776 post type-post status-publish format-standard hentry category-dominonotes tag-conflict tag-replication">
	<header class="entry-header">
		<h2 class="entry-title" itemprop="name">
			<a itemprop="url" href="/articles/behind-the-scenes-of-replication-conflict.html" title="链向复制冲突文档的生成原理的固定链接" rel="bookmark">复制冲突文档的生成原理</a>
		</h2>
							<div class="entry-meta"><span class="entry-date"><a href="/articles/behind-the-scenes-of-replication-conflict.html" rel="bookmark"><time class="entry-date published" datetime="2010-05-31T17:25:32+08:00" itemprop="datepublished">2010年05月31日</time></a></span> by <span class="author vcard" itemscope itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="/articles/author/admin" rel="author" itemprop="url"><span itemprop="name">Sanmao</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="/articles/behind-the-scenes-of-replication-conflict.html#comments" itemprop="discussionUrl">一条评论</a></span></div>
			</header>
								<div class="entry-content" itemprop="articleBody">
						<p>前些天在讨论 <a title="Permanent Link to Domino 环境中各种 ID 的介绍" rel="bookmark" href="/articles/various-ids-in-domino.html">Domino  环境中各种 ID</a> 时，提到了一些关于如何处理复制冲突的内容，由于其原理比较复杂，当时就没有展开讨论。今天有读者询问其中的细节，所以在这篇文章中我们就仔细研究一下这个话题。</p>
<p>上一次说到在复制过程中如果发现两个副本关系的文档其 OID 不同，那么说明这两个文档处于不同步的状态。首先分析两个文档的 $Revisions 域（此域记录了文档历次修改的时间），判断是否存在冲突：</p>
<ul>
<li>如果两个域值除了某一个文档多出来一些值以外，其余部分完全相同，如：<br />
<blockquote><p>A：时间1，时间2，时间3<br />
B：时间1，时间2，时间3，时间4，时间5</p></blockquote>
<p>则表示 B 文档在 A 文档的基础上额外多修改了两次，不存在冲突</li>
<li>如果两个域值最初相同，然后各自出现了不同的部分，如：<br />
<blockquote><p>A：时间1，时间2，时间3，时间4<br />
B：时间1，时间2，时间3，时间5</p></blockquote>
<p>则表示两个文档在不同的时间分别修改过，存在冲突</li>
</ul>
<p>如果存在冲突，下一步检查目标文档（就是这次复制过程中会被修改的那个）的 $ConflictAction 域，如果其值为“1”表示允许合并复制冲突，开始分析两个文档各个域值，以判断能否进行合并：</p>
<ul>
<li>首先通过 $Revisions 域和 Sequence Number 找出两个文档最后一致的版本，以下面数据为例：<br />
<blockquote><p>A $Revisions：时间1，时间2，时间3，时间4<br />
A SN：5<br />
B $Revisions：时间1，时间2，时间3，时间5<br />
B SN：5</p></blockquote>
<p>两个文档在时间3这一版本是一致的，从 SN = 5 往回反推可以得到一致版本为 4</li>
<li>每个文档域也有一个 SN 属性，它记录了此域最后一次修改时文档的 SN。用文档域的 SN 与之前得到的一致版本号 4 进行比对，就可以得到在一致版本之后修改的域。</li>
<li>如果两个文档修改过的域有重合的部分，说明在不同的副本中对相同的域同时做了修改，无法合并冲突；反之则可以合并</li>
</ul>
<p>如果 $ConflictAction 域值不是“1”或者属于上一段所述无法合并冲突的情况，则必须创建冲突文档。下一步就是通过 Sequence Number 和 Sequence Datetime 来分析哪个文档作为主文档（winner），哪个文档作为冲突文档（loser）：</p>
<ul>
<li>SN 比较大的（在一致版本之后编辑次数较多的）文档是 winner</li>
<li>如果 SN 相同，SD 比较大的（最后编辑的）文档是 winner</li>
</ul>
<p>至此，一个崭新的复制冲突文档诞生了。</p>
								</div>
			</article>
					<article itemscope itemtype="http://schema.org/Article" id="post-644769" class="post-644769 post type-post status-publish format-standard hentry category-87 tag-jpgraph tag-mantis">
	<header class="entry-header">
		<h2 class="entry-title" itemprop="name">
			<a itemprop="url" href="/articles/bug-track-system-mantis-configuration.html" title="链向问题跟踪系统 Mantis 配置要点的固定链接" rel="bookmark">问题跟踪系统 Mantis 配置要点</a>
		</h2>
							<div class="entry-meta"><span class="entry-date"><a href="/articles/bug-track-system-mantis-configuration.html" rel="bookmark"><time class="entry-date published" datetime="2010-05-21T09:51:15+08:00" itemprop="datepublished">2010年05月21日</time></a></span> by <span class="author vcard" itemscope itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="/articles/author/admin" rel="author" itemprop="url"><span itemprop="name">Sanmao</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="/articles/bug-track-system-mantis-configuration.html#comments" itemprop="discussionUrl">2条评论</a></span></div>
			</header>
								<div class="entry-content" itemprop="articleBody">
						<p>本文主要记录我在 Mantis 配置过程中遇到的几个问题，其安装比较简单这里就不详细描述，只是要注意 Mysql 安装时字符集选择 UTF-8。</p>
<p>（注：我的软件环境： Windows 2003，PHP 5.2.13，Mysql 5.1.46，Apache 2.2.15，Mantis 1.2.1）</p>
<ul>
<li>更改默认时区：在 config_inc.php 中加入</li>
</ul>
<blockquote>
<pre>putenv("TZ=Asia/Shanghai");</pre>
</blockquote>
<ul>
<li>更改默认语言：在 config_inc.php 中加入</li>
</ul>
<blockquote>
<pre>$g_default_language='chinese_simplified';</pre>
</blockquote>
<ul>
<li>更改窗口/页面标题：在 config_inc.php 中加入</li>
</ul>
<blockquote>
<pre>$g_window_title = 'Bug跟踪系统';
$g_page_title = 'Bug跟踪系统';</pre>
</blockquote>
<p>之后发现标题变为空白，将 config_inc.php 改为 <strong>UTF-8无BOM格式</strong> 后问题解决。</p>
<ul>
<li>图表中文乱码问题</li>
</ul>
<p>由于 Mantis 自带的图表引擎效果不好，所以建议使用 JpGraph 引擎。首先下载 <a href="http://www.aditus.nu/jpgraph/jpdownload.php" target="_blank">JpGraph</a>，将压缩包中 src 目录下所有文件解压到 <strong>{mantisroot}/library/jpgraph</strong>。</p>
<p>以管理员帐号登录系统，通过 <strong>管理&gt;插件管理</strong> 安装 <strong>Mantis图表</strong> 插件，然后对其进行配置：将第一项图表引擎改为 JpGraph，其余保持默认设置并保存（尤其是字体要保留 Arial，下面会用到）。至此图表已经可用，但中文乱码。</p>
<p>由于我的 Mysql 字符编码为 UTF-8，所以无需像网上大多数文章所述进行转码，直接找一个含有中文字符的字体即可。编辑 <strong><strong>{mantisroot}</strong>libraryjpgraphjpgraph_ttf.inc.php</strong> 文件，通过查找 “FF_ARIAL =&gt;”找到 Arial 字体配置部分，将原来的 arial.ttf 及各种粗斜变体替换为任意中文字体，样例如下：</p>
<blockquote>
<pre>FF_ARIAL =&gt;   array(FS_NORMAL =&gt;'msyh.ttf',
 FS_BOLD  =&gt;'msyhbd.ttf',
 FS_ITALIC =&gt;'msyh.ttf',
 FS_BOLDITALIC =&gt;'msyhbd.ttf' ) ,</pre>
</blockquote>
<p>编辑好保存文件，乱码搞定。</p>
								</div>
			</article>
					<article itemscope itemtype="http://schema.org/Article" id="post-644767" class="post-644767 post type-post status-publish format-standard hentry category-dominonotes tag-dblookup tag-formula tag-lotusscript">
	<header class="entry-header">
		<h2 class="entry-title" itemprop="name">
			<a itemprop="url" href="/articles/categorized-view-and-data-lookup.html" title="链向针对分类视图查询数据的固定链接" rel="bookmark">针对分类视图查询数据</a>
		</h2>
							<div class="entry-meta"><span class="entry-date"><a href="/articles/categorized-view-and-data-lookup.html" rel="bookmark"><time class="entry-date published" datetime="2010-05-17T15:02:42+08:00" itemprop="datepublished">2010年05月17日</time></a></span> by <span class="author vcard" itemscope itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="/articles/author/admin" rel="author" itemprop="url"><span itemprop="name">Sanmao</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="/articles/categorized-view-and-data-lookup.html#comments" itemprop="discussionUrl">3条评论</a></span></div>
			</header>
								<div class="entry-content" itemprop="articleBody">
						<p>在 Domino 应用开发中，有很多方法可以对数据进行查询。@dblookup 和 NotesView.getAllDocumentsByKey 利用了预先建好的视图索引，所以在各种查询数据的方法中，它们的性能是最出色的，也是我们最常用的。</p>
<p>最近在工作中遇到了一个于此相关的问题，请大家也注意：如果查询的视图具有多层分类，那么 @dblookup 和 getAllDocumentsByKey 只能返回第一个子分类下的结果。以如下数据为例：</p>
<blockquote>
<pre>分类1
  分类1.1
    文档1.1.1
  分类2.2
    文档1.1.2
分类2</pre>
</blockquote>
<p>如果以“分类1”作为查询条件，则只有“文档1.1.1”会返回，同样符合条件的“文档1.1.2”则丢失。</p>
<p>请参考：<a href="http://www-10.lotus.com/ldd/ddwiki.nsf/dx/dblookup-troubleshooting.htm" target="_blank">Troubleshooting @DbLookup, @DbColumn, GetAllDocumentsByKey</a></p>
								</div>
			</article>
					<article itemscope itemtype="http://schema.org/Article" id="post-644764" class="post-644764 post type-post status-publish format-standard hentry category-dominonotes category-ubuntulinux">
	<header class="entry-header">
		<h2 class="entry-title" itemprop="name">
			<a itemprop="url" href="/articles/maximum-number-of-file-handles-allowed-for-domino-is-1024.html" title="链向Maximum number of file handles allowed for Domino is 1024 错误的固定链接" rel="bookmark">Maximum number of file handles allowed for Domino is 1024 错误</a>
		</h2>
							<div class="entry-meta"><span class="entry-date"><a href="/articles/maximum-number-of-file-handles-allowed-for-domino-is-1024.html" rel="bookmark"><time class="entry-date published" datetime="2010-05-11T14:24:42+08:00" itemprop="datepublished">2010年05月11日</time></a></span> by <span class="author vcard" itemscope itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="/articles/author/admin" rel="author" itemprop="url"><span itemprop="name">Sanmao</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="/articles/maximum-number-of-file-handles-allowed-for-domino-is-1024.html#respond" itemprop="discussionUrl">0评论</a></span></div>
			</header>
								<div class="entry-content" itemprop="articleBody">
						<p>今天同事报告一个问题：Linux 平台下的 Domino 服务器运行一段时间之后，Notes 客户机无法连接，但 HTTP 服务器却是好的。同时在服务器控制台上出现以下错误：</p>
<blockquote><p>WARNING: the maximum number of file handles (ulimit -n) allowed for  Domino is 1024. See Release Notes and set the allowable maximum to  20000.</p></blockquote>
<p>经查明其原因是在 Linux 默认设置下，每个进程能够使用的 file handles 为 1024，达到这个限制之后就无法再打开任何文件了。修改此设定分为两种情况：</p>
<ul>
<li>用户登录系统手工启动 Domino（修改 /etc/security/limits.conf 文件）</li>
<li>通过 /etc/init.d 脚本自动启动（在启动脚本中增加 ulimit -n 20000 命令）</li>
</ul>
<p>具体方法请参考 <a href="http://www-01.ibm.com/support/docview.wss?rs=463&amp;uid=swg21221870" target="_blank">IBM 技术支持文档</a>。</p>
								</div>
			</article>
					<article itemscope itemtype="http://schema.org/Article" id="post-644761" class="post-644761 post type-post status-publish format-standard hentry category-dominonotes tag-nd802">
	<header class="entry-header">
		<h2 class="entry-title" itemprop="name">
			<a itemprop="url" href="/articles/notesdomino-8-0-2-fp5-release.html" title="链向Notes/Domino 8.0.2 FP5 已发布的固定链接" rel="bookmark">Notes/Domino 8.0.2 FP5 已发布</a>
		</h2>
							<div class="entry-meta"><span class="entry-date"><a href="/articles/notesdomino-8-0-2-fp5-release.html" rel="bookmark"><time class="entry-date published" datetime="2010-05-04T22:07:33+08:00" itemprop="datepublished">2010年05月4日</time></a></span> by <span class="author vcard" itemscope itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="/articles/author/admin" rel="author" itemprop="url"><span itemprop="name">Sanmao</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="/articles/notesdomino-8-0-2-fp5-release.html#respond" itemprop="discussionUrl">0评论</a></span></div>
			</header>
								<div class="entry-content" itemprop="articleBody">
						<p>请参考：<a href="http://www.lotus.com/ldd/r5fixlist.nsf/8d1c0550e6242b69852570c900549a74/613a204806e3f211852576e2006afa3d?OpenDocument" target="_blank">Notes/Domino  8.0.2 Fix Pack 5 Release Notice</a>，<a href="http://www.ibm.com/support/docview.wss?uid=swg24026644" target="_blank">Download  options for Notes/Domino 8.0.2 Fix Pack 5</a></p>
								</div>
			</article>
					<article itemscope itemtype="http://schema.org/Article" id="post-645059" class="post-645059 post type-post status-publish format-standard hentry category-dominonotes tag-nd65 tag-nd851">
	<header class="entry-header">
		<h2 class="entry-title" itemprop="name">
			<a itemprop="url" href="/articles/nd65-end-of-service-and-nd851fp2-release.html" title="链向ND 6.5.x 服务即将到期 + ND 8.5.1FP2 发布的固定链接" rel="bookmark">ND 6.5.x 服务即将到期 + ND 8.5.1FP2 发布</a>
		</h2>
							<div class="entry-meta"><span class="entry-date"><a href="/articles/nd65-end-of-service-and-nd851fp2-release.html" rel="bookmark"><time class="entry-date published" datetime="2010-03-31T17:25:01+08:00" itemprop="datepublished">2010年03月31日</time></a></span> by <span class="author vcard" itemscope itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="/articles/author/admin" rel="author" itemprop="url"><span itemprop="name">Sanmao</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="/articles/nd65-end-of-service-and-nd851fp2-release.html#respond" itemprop="discussionUrl">0评论</a></span></div>
			</header>
								<div class="entry-content" itemprop="articleBody">
						<p>ND 6.5.x 系列即将到期，这意味着 IBM 不再提供此版本的技术支持，同时也不会再有新的修补版本。还在使用此版本的，请抓紧时间升级。</p>
<p>ND 8.5.1FP2 就无需多说，推荐安装。</p>
<p>请参考：<a href="http://www-01.ibm.com/support/docview.wss?uid=swg21287154" target="_blank">End of Service (EOS) of Lotus Enterprise Integrator, Notes, and Domino 6.5.x</a>，<a href="http://www-10.lotus.com/ldd/r5fixlist.nsf/8d1c0550e6242b69852570c900549a74/52f9218288b51dcb852576c600741f72?OpenDocument" target="_blank">Lotus Notes/Domino 8.5.1 Fix Pack 2 Release Notice</a></p>
								</div>
			</article>
					<article itemscope itemtype="http://schema.org/Article" id="post-644612" class="post-644612 post type-post status-publish format-standard hentry category-dominonotes tag-charset tag-lmbcs tag-lotusscript tag-performance tag-unicode">
	<header class="entry-header">
		<h2 class="entry-title" itemprop="name">
			<a itemprop="url" href="/articles/character-encoding-in-domino.html" title="链向Domino 环境中的字符编码的固定链接" rel="bookmark">Domino 环境中的字符编码</a>
		</h2>
							<div class="entry-meta"><span class="entry-date"><a href="/articles/character-encoding-in-domino.html" rel="bookmark"><time class="entry-date published" datetime="2010-03-21T16:08:26+08:00" itemprop="datepublished">2010年03月21日</time></a></span> by <span class="author vcard" itemscope itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="/articles/author/admin" rel="author" itemprop="url"><span itemprop="name">Sanmao</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="/articles/character-encoding-in-domino.html#comments" itemprop="discussionUrl">2条评论</a></span></div>
			</header>
								<div class="entry-content" itemprop="articleBody">
						<p>大概在很早之前，我就知道在域中一个中文字符占三个字节，但是不知道其中的细节。最近在处理一个关于域内容超限的问题的时候，研究了一下字符编码，终于明白其中的原因。</p>
<p>在 Domino 环境下开发时，我们接触的字符编码主要有三种：</p>
<ul>
<li>UTF-16：LotusScript 内部的字符编码，中文和英文都占两字节。</li>
<li>LMBCS（Lotus Multibyte Character Set）：存到文档域中的值以及公式等使用，中文占三字节，英文占一字节。这是在 Unicode 标准推出之前，Lotus 为了解决多语言问题自己使用的编码方式。</li>
<li>操作系统的编码方式：我们的 Domino 一般都跑在 GB2312 环境下，中文占两字节，英文占一字节。</li>
</ul>
<p>UTF-16 和 GB2312 就不多说了，网上介绍的文章非常多。这里着重说明一下 LMBCS。</p>
<p>LMBCS 为了解决多语言问题，将字符分成了若干个组并将其分别编号，从 0x01 到 0x1F，其中 0x01 为 Latin-1（每个文字一字节），0x13 为简体中文（每个文字两字节）。然后每个字符都以自己的组编号开头，这样就实现了在一个字符串里面包含多种语言。例如“中文Test”以如下几个字节表示：</p>
<blockquote><p><strong>13</strong> d6 d0 <strong>13</strong> ce c4 <strong>01</strong> 74 <strong>01</strong> 65 <strong>01</strong> 73 <strong>01</strong> 74</p></blockquote>
<p>其中加粗的部分为组编号。很明显这种访问有个很大的问题：每个字符都要标识其组编号，大大的浪费了空间。所以有了改良方案：每个程序（application file）有个默认的组编号，如果一个字符的组编号和默认的相同，则可以忽略不写（我没有找到设置这个组编号的方法，测试过程中它总是 0x01）。于是在默认组编号为 0x01 的情况下，上面的内容变成了这样：</p>
<blockquote><p><strong>13</strong> d6 d0 <strong>13</strong> ce c4<strong></strong> 74 65 73 74</p></blockquote>
<p>这样就有了中文占三字节，英文占一字节的结论。有了上面的背景知识，我们可以得到以下结果：</p>
<ul>
<li>Len(&#8220;中文Test&#8221;) = 6，6 个字符</li>
<li>Lenb(&#8220;中文Test&#8221;) = 12，在 LotusScript 中占用 6×2 个字节</li>
<li>Lenbp(&#8220;中文Test&#8221;) = 8，按照操作系统的字符编码，占用 2×2+4 个字节</li>
<li>值为&#8221;中文Test&#8221;的域大小为 10 （2×3+4）字节</li>
</ul>
<p>顺便一提，由于 LotusScript 采用的编码与 Domino 环境中其他地方不同，所以每次读写域值、print 语句都会进行转换，所以减少这种转换可以提升性能。比如：</p>
<blockquote>
<pre>for i=1 to 100
    print i
next i</pre>
</blockquote>
<p>进行了 100 此编码转换，而</p>
<blockquote>
<pre>strTemp = ""
for i=1 to 100
    i = strTemp &amp; i
next i
print strTemp</pre>
</blockquote>
<p>只进行了一次转换，所以性能上会有优势。</p>
<p>请参考：<a href="http://www.lotusgeek.com/LotusGeek/LotusGeekBlog.nsf/d6plinks/ROLR-6M9RAX" target="_blank">Computing Strings @Length</a></p>
								</div>
			</article>
					<article itemscope itemtype="http://schema.org/Article" id="post-644606" class="post-644606 post type-post status-publish format-standard hentry category-dominonotes tag-indexer tag-notes-ini tag-performance tag-updall tag-update">
	<header class="entry-header">
		<h2 class="entry-title" itemprop="name">
			<a itemprop="url" href="/articles/view-and-indexer-task-in-domino.html" title="链向Domino 中的视图和索引器任务的固定链接" rel="bookmark">Domino 中的视图和索引器任务</a>
		</h2>
							<div class="entry-meta"><span class="entry-date"><a href="/articles/view-and-indexer-task-in-domino.html" rel="bookmark"><time class="entry-date published" datetime="2010-03-19T17:46:55+08:00" itemprop="datepublished">2010年03月19日</time></a></span> by <span class="author vcard" itemscope itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="/articles/author/admin" rel="author" itemprop="url"><span itemprop="name">Sanmao</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="/articles/view-and-indexer-task-in-domino.html#respond" itemprop="discussionUrl">0评论</a></span></div>
			</header>
								<div class="entry-content" itemprop="articleBody">
						<p>视图在 Domino 环境中起着重要的作用，它将文档按照定义好的方式组织起来，作为展现给用户的数据或者查找数据的索引。而保持视图中的数据随时更新，是由一个重要的服务器任务：索引器（Indexer）完成的。</p>
<p>索引器任务由 Update、Updall（Update all）两个任务组成，它们通过调用 Notes Index Facility (NIF) 和 Full-Text services，保持各视图和全文索引内容为最新。本文仅讨论视图和索引器任务相关的部分，全文索引相关内容并未涉及。</p>
<p>Update 任务默认写在 Notes.ini 文件的 ServerTasks 参数中，所以它是随服务器一起启动的，持续不断地运行，检查其工作队列以查找需要更新的视图和文件夹。Update 保持两个工作队列：一个即时队列，一个延迟队列。其他服务器组件，例如路由器（Router）和复制器（Replicator），在数据库发生修改时将请求投递给 Update 任务。有些请求投递为延迟，有些请求投递为即时。此请求只包含数据库的完整路径，不包含视图名。延迟队列请求在被处理之前会保持 15 秒，以便在此时间内更新同一数据库的请求作为重复请求而被忽略，通过统一处理来提高性能。这个 15 秒的延迟时间可以通过 Update_Suppression_Time 参数修改。</p>
<p>工作队列中记录了哪些数据库需要更新索引，那么数据库中的具体哪个视图需要更新呢？在数据库的头信息里面，记录了数据库的修改时间；同时在视图的索引信息里面也记录了上次更新索引的时间。通过比较两个时间就可以判断哪些视图需要更新。</p>
<p>Updall 与 Update 类似，但它不是持续不断地运行，也不使用队列；而是根据需要运行。默认情况下，Updall 包括在 NOTES.INI 设置 ServerTasksAt2 中，因此它在每天凌晨 2 点运行。在运行 Updall 时您可以指定选项，但是如果不指定这些选项，则 Updall 会更新服务器上所有数据库中，需要更新的任何视图索引或全文搜索索引。为节省磁盘空间，Updall 还从数据库中清除删除存根（deletion stubs ），并删除符合条件视图的视图索引。</p>
<p>在视图属性的高级页签中，有两个和索引相关的选项：刷新、废弃。先看看刷新选项：</p>
<ul>
<li>第一次使用后自动刷新<br />
新建视图时的默认选项，也是一个功能和性能比较均衡的选项，无特殊情况下推荐使用。在用户第一次访问之前，索引器不会更新它，减小了无用视图对性能的影响。用户第一次访问时建立视图索引，所以这次访问会比较慢。不过一旦索引建立起来，索引器就会负责更新它，从而保证用户访问时无需等待。</li>
<li>自动刷新<br />
与上一个类似，只是不管用户是否使用过它。这个选项对于用户的体验是最好的，因为打开视图时一般来说无需等待就能查看最新的数据；但对服务器来说压力是最大的，因为即使视图从没有人使用过，依然需要更新它的索引。情谨慎使用。</li>
<li>手工刷新<br />
索引器不更新视图索引，完全依赖用户手工操作，对于服务器来说压力最小。用户打开视图时没有任何延迟，但是看到的数据可能不是最新的。此情况下视图左侧会显示刷新图标，提示用户数据并非最新的，用户点击图标或者按 F9 刷新数据。但对于浏览器应用来说，没有任何方式可以触发索引更新，所以无法使用。</li>
<li>间隔 n 小时自动刷新<br />
手工刷新和自动刷新的混合体。如果距上次更新索引的时间超过了 n 小时，与自动刷新类似；反之与手工刷新类似。用于可预知更新频率的视图，比如每天晚上定时任务会创建文档，则可以设定为 24 小时刷新一次。</li>
</ul>
<p>废弃选项：</p>
<ul>
<li>如果闲置 45 天<br />
45 天内没有任何用户访问此视图，则删除其索引。可以通过 Default_Index_Lifetime_Days 参数修改。</li>
<li>每次使用后<br />
用了就删，下次用再重新创建。此方式对服务器压力会很大，一般很少用到，除非真的几乎是一次性使用。</li>
<li>如果闲置 n 天<br />
与第一个选项类似。</li>
</ul>
<p>请参考：<a href="http://www.duffbert.com/duffbert/blog.nsf/d6plinks/TDUF-5WG454" target="_blank">The Indexer and Its Functionality</a>，<a href="http://www-01.ibm.com/support/docview.wss?uid=swg27002624" target="_blank">The basics of Notes view index refreshing</a>，<a href="http://www-01.ibm.com/support/docview.wss?rs=0&amp;uid=swg21085954" target="_blank">Updall switches, Update and NIF &#8211; Notes indexing basics</a>，<a href="https://infocenters.lotus.com/domino/index.jsp?topic=/com.ibm.help.domino.admin85.doc/H_INDEXER_TASKS_UPDATE_AND_UPDALL_STEPS.html" target="_blank">Indexer tasks: Update and Updall</a></p>
								</div>
			</article>
				
	<nav class="navigation pagination" role="navigation">
		<h2 class="screen-reader-text">文章导航</h2>
		<div class="nav-links"><a class="prev page-numbers" href="/page/5"><i class="fa fa-chevron-left"></i></a>
<a class='page-numbers' href='/'>1</a>
<span class="page-numbers dots">&hellip;</span>
<a class='page-numbers' href='/page/5'>5</a>
<span aria-current='page' class='page-numbers current'>6</span>
<a class='page-numbers' href='/page/7'>7</a>
<span class="page-numbers dots">&hellip;</span>
<a class='page-numbers' href='/page/19'>19</a>
<a class="next page-numbers" href="/page/7"><i class="fa fa-chevron-right"></i></a></div>
	</nav>	
			</div>
												<footer class="site-info" itemscope itemtype="http://schema.org/WPFooter">
										<a href="http://cn.wordpress.org/" title="优雅的个人发布平台">由WordPress自豪地提供</a>.
					主题：Flat 1.0.4 by <a rel="nofollow" href="https://themeisle.com/themes/flat/" title="Flat WordPress Theme">Themeisle</a>				</footer>
														</div>
					</div>
	</div>
</div>
<!-- Powered by WPtouch: 4.3.37 --><script src='/wp-includes/js/wp-embed.min.js?ver=5.2.2'></script>
</body>
</html>
